var webengage;(function(b,a,c){if(typeof webengage=="undefined"){webengage={}}(function(){var j={copy:function(n,m,l){for(var k in m){if(typeof n[k]=="undefined"||(typeof l=="boolean"&&l)){n[k]=m[k]}}return n},createObj:function(l){var m=b.webengage,k=l?l.split("."):[];for(var n=0;n<k.length;n++){var p=k[n],o=m[p];if(!o){o={};m[p]=o}m=o}return m},extendObject:function(k,l){return j.copy((typeof k=="string"?j.createObj(k):k),l)},isJqueryPresent:function(){return(typeof b.jQuery!="undefined"&&parseFloat("."+b.jQuery().jquery.replace(/\./g,""))>=0.13)},replaceUrlTokens:function(k){if(k){k=k.replace(/_LICENSE_CODE_/g,webengage.initParams.licenseCode);k=k.replace(/_LANGUAGE_/g,webengage.initParams.language);k+="&version="+webengage.GLOBALS.widgetVersion()+"&jQuery="+j.isJqueryPresent()+"&r="+Math.random()}return k},applyCss:function(m,l){for(var k in l){try{if(typeof l[k]=="function"){m.style[k]=l[k]()}else{m.style[k]=l[k]}}catch(n){}}return m},inArray:function(k,m){for(var l=0;l<k.length;l++){if(k[l]==m){return true}}return false},getMaxZIndex:function(){var n=0;var m=a.getElementsByTagName?a.getElementsByTagName("*"):a.all;for(var l=0;l<m.length;l++){var p=m[l];var k=null;if(p.currentStyle){k=p.currentStyle}else{if(a.defaultView&&a.defaultView.getComputedStyle){k=a.defaultView.getComputedStyle(p,"")}}var o;if(k){o=Number(k.zIndex)}else{o=Number(p.style.zIndex)}if(!isNaN(o)){n=Math.max(n,o)}}return n},alignCenter:function(n,m,l){var k=(l=="left")?"right":"left";n.style.top=((parseInt(j.getElementHeight(m))-parseInt(j.getElementHeight(n)))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";n.style[k]=(parseInt(j.getElementWidth(m))-parseInt(j.getElementWidth(n)))/2+10+"px"},getElementWidth:function(k){if(typeof k.clip!=="undefined"){return k.clip.width}else{if(k.style.pixelWidth){return k.style.pixelWidth}else{return k.offsetWidth}}},getElementHeight:function(k){if(typeof k.clip!=="undefined"){return k.clip.height}else{if(k.style.pixelHeight){return k.style.pixelHeight}else{return k.offsetHeight}}},getInitParamValue:function(k,o,l,n){var m=typeof(l)!="undefined"?l:null;if(k&&k[o]){var p=k[o];if(n){if(j.inArray(n,p)){m=p}}else{m=p}}return m},getInitParamValueAsArray:function(k,q,n,p){var o=j.getInitParamValue(k,q,n);if(o&&typeof(o)!="object"){o=o.split(/\s*,\s*/)}if(p&&typeof(p)=="object"){var l=[];for(var m=0;m<o.length;m++){if(j.inArray(p,o[m])){l[l.length]=o[m]}}o=l}return o},addToOnload:function(k){if(b.attachEvent){b.attachEvent("onload",k)}else{if(b.addEventListener){b.addEventListener("load",k,false)}else{if(a.addEventListener){a.addEventListener("load",k,false)}else{b.onload=k}}}},setCookie:function(m,o,k,r,n,q){var l=new Date();l.setTime(l.getTime());if(k){k=k*1000*60*60*24}var p=new Date(l.getTime()+(k));a.cookie=m+"="+encodeURIComponent(o)+((k)?";expires="+p.toGMTString():"")+((r)?";path="+r:"")+((n)?";domain="+n:"")+((q)?";secure":"")},getCookie:function(k){var p=a.cookie.split(";");var l="";var n="";var o="";var m=false;for(i=0;i<p.length;i++){l=p[i].split("=");n=l[0].replace(/^\s+|\s+$/g,"");if(n==k){m=true;if(l.length>1){o=decodeURIComponent(l[1].replace(/^\s+|\s+$/g,""))}return o==null?"":o;break}l=null;n=""}if(!m){return null}},getCurrentTime:function(l){var o=new Date();var m=o.getTime();if(typeof l!="undefined"){var n=o.getTimezoneOffset()*60000;var k=m+n;m=k+(1000*l)}return m},jsonToText:function(m){var o=[];o[o.length]="{";var l=0;for(var k in m){if(l>0){o[o.length]=","}var n=m[k];if(typeof(n)=="object"){n=j.jsonToText(n)}o[o.length]=k+":'"+n+"'";l++}o[o.length]="}";return o.join("")},setWebengageCookie:function(l){var n=l||{};var m={time:(new Date()).getTime()};n=j.copy(n,m);var k=j.jsonToText(n);j.setCookie("_we_wk_ls_",k,99999,"/","","");this.firstTimeUser=true},getWebengageCookie:function(){return new Function("return "+j.getCookie("_we_wk_ls_"))()},setSessionCookie:function(){var k=j.jsonToText({referrer:a.referrer,country:webengage.GEO.country(),region:webengage.GEO.region(),city:webengage.GEO.city(),isFirstTime:j.isFirstTimeUser()});j.setCookie("_we_wk_ss_",k,"","/","","");return k},getSessionCookie:function(){var k=null;try{var m=j.getCookie("_we_wk_ss_");k=(new Function("return "+m)())||null}catch(l){k=j.setSessionCookie()}return k},updateSessionCookie:function(l){var k=l||j.getSessionCookie();if(k){k.referrer=a.referrer;k=j.jsonToText(k);j.setCookie("_we_wk_ss_",k,"","/","","")}else{k=j.setSessionCookie()}return k},loadScript:function(m,n,k,o){this.script=a.createElement("script");this.script.type="text/javascript";this.script.charset="UTF-8";this.script.src=m;this.script.callBack=n;this.script.callBackArgs=k||[];this.script.errorCallBack=o;this.appendChild(this.script);if(typeof(this.script.callBack)=="function"){if(webengage.BrowserDetect.ie()){var l=function(q){var p=(q?q:b.event).target?(q?q:b.event).target:(q?q:b.event).srcElement;if(p.readyState=="loaded"||p.readyState=="complete"){this.callBack.apply(this,this.callBackArgs)}};this.script.defer=true;this.script.onreadystatechange=l}else{if(this.script.addEventListener){this.script.addEventListener("load",function(p){this.callBack.apply(this,this.callBackArgs)},false);if(typeof(this.errorCallBack)=="function"){this.script.addEventListener("error",function(p){this.errorCallBack(p)},true)}}else{this.script.attachEvent("onload",function(p){this.callBack.apply(this,this.callBackArgs)});if(typeof(this.errorCallBack)=="function"){this.script.attachEvent("onerror",function(p){this.errorCallBack(p)})}}}}},getClientPageUrl:function(){return b.location.href},getClientPageHost:function(){return b.location.host},escapeForRegExp:function(k){return(k+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(typeof this.firstTimeUser!="undefined")?this.firstTimeUser:false},isColorTooLight:function(l){l=l.indexOf("#")===0?l.substr(1,l.length):l;var n=parseInt(l.substr(0,2),16);var m=parseInt(l.substr(2,2),16);var k=parseInt(l.substr(4,2),16);var o=((n*299)+(m*299)+(k*299))/1000;return o>=128},isEmptyObject:function(k){for(var l in k){if(k.hasOwnProperty(l)){return false}}return true}};var g={};var h=false;j.extendObject("initParams",{licenseCode:"",language:"",isDemoMode:false,delay:0});j.extendObject("logger",{_properties:{containerCss:{position:function(){return webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(j.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},renderLogMessage:function(u,t){var m=a.getElementById("webengage-error-messages");if(m){m.parentNode.removeChild(m)}var o=a.createElement("div");o.setAttribute("id","webengage-error-messages");o=j.applyCss(o,this._properties.containerCss);a.body.insertBefore(o,null);var s=a.createElement("div");s=j.applyCss(s,this._properties.closeButtonCss);s.innerHTML="x";o.appendChild(s);s.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var l=a.createElement("div");l=j.applyCss(l,this._properties.dataDivCss);o.appendChild(l);l.innerHTML=u;var p=l.getElementsByTagName("a");if(p&&p.length>0){for(var q=0;q<p.length;q++){j.applyCss(p[q],this._properties.dataDivLinkCss);var n=p[q].getAttribute("href");var k=n.split("#");var r=k[0];r=r.indexOf("?")<0?(r+"?"):r;r=r+"&ref=widget-message";r=k.length==2?(r+"#"+k[1]):r;p[q].setAttribute("href",r)}}return o},success:function(k){return this.renderLogMessage(k,"success")},warn:function(k){return this.renderLogMessage(k,"warn")},error:function(k){return this.renderLogMessage(k,"error")}});j.extendObject("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},weLoadGeo:function(k){if(typeof(k)=="object"){this._country=k.geoplugin_countryName||"";this._country_code=k.geoplugin_country_code||"";this._region=k.geoplugin_region||"";this._city=k.geoplugin_city||"";this._latitude=k.geoplugin_latitude||"";this._longitude=k.geoplugin_longitude||""}}});j.extendObject("GLOBALS",(function(){var k={_widgetVersion:"3.0",_staticVersion:"103.0",_baseWebEngageUrl:"//webengage.com",_surveyAppHost:"survey.webengage.com",_widgetDomain:(a.location.protocol=="https:"?"//ssl.widgets.webengage.com":"//cdn.widgets.webengage.com"),_baseStaticUrl:"//static-webengage.s3-ap-southeast-1.amazonaws.com",_baseDynamicHost:"//s3-ap-southeast-1.amazonaws.com",_features:["feedback","survey","notification"],_loadFeedbackWidgetJQueryUrl:"/js/widget/feedback-widget-w-jquery.js",_loadFeedbackWidgetWoJQueryUrl:"/js/widget/feedback-widget-wo-jquery.js",_loadSurveyWidgetUrl:"/publisher-widget-loader.html?action=loadSurveyWidget&langugage=_LANGUAGE_&licenseCode=_LICENSE_CODE_&url="+encodeURIComponent(j.getClientPageUrl()),_getNotificationWidgetScriptUrl:"/js/widget/publisher-notification-widget-gen.js",_findAllTakenSurveysUrl:"/publisher-widget-loader.html?action=findAllTakenSurveys&langugage=_LANGUAGE_&licenseCode=_LICENSE_CODE_&url="+encodeURIComponent(j.getClientPageUrl()),_widgetContainerId:"webklipper-publisher-widget-container",_feedbackImageBaseUrl:"/wk-static-files/webengage/feedbacktab/",_serverTimestampUrl:"//notification.webengage.com/publisher-widget-loader.html?action=timestamp"};return{widgetVersion:function(){return k._widgetVersion},baseWebEngageUrl:function(){return k._baseWebEngageUrl},surveyAppHost:function(){return k._surveyAppHost},baseStaticUrl:function(){return k._baseStaticUrl},baseDynamicHost:function(){return k._baseDynamicHost},widgetDomain:function(){return k._widgetDomain},features:function(){return k._features},loadFeedbackWidgetJQueryUrl:function(){return k._loadFeedbackWidgetJQueryUrl+"?v="+k._staticVersion},loadFeedbackWidgetWoJQueryUrl:function(){return k._loadFeedbackWidgetWoJQueryUrl+"?v="+k._staticVersion},loadSurveyWidgetUrl:function(){return"//"+k._surveyAppHost+k._loadSurveyWidgetUrl},getNotificationWidgetScriptUrl:function(){return k._getNotificationWidgetScriptUrl+"?v="+k._staticVersion},findAllTakenSurveysUrl:function(){return"//"+k._surveyAppHost+k._findAllTakenSurveysUrl},widgetContainerId:function(){return k._widgetContainerId},feedbackImageBaseUrl:function(){return k._baseDynamicHost+k._feedbackImageBaseUrl},getServerTimestampUrl:function(){return k._serverTimestampUrl}}})());j.extendObject("BrowserDetect",(function(){var l,r,m,p=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:b.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],n=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],o=function(v){for(var s=0;s<v.length;s++){var t=v[s].string;var u=v[s].prop;this._versionSearchString=v[s].versionSearch||v[s].identity;if(t){if(t.indexOf(v[s].subString)!=-1){return v[s].identity}}else{if(u){return v[s].identity}}}},k=function(u){var t=u.indexOf(this._versionSearchString);if(t==-1){return}var s=parseFloat(u.substring(t+this._versionSearchString.length+1));if(l=="Explorer"&&7<=s&&s<8){if(u.indexOf("Trident/4")!=-1){s=8}else{if(u.indexOf("Trident/5")!=-1){s=9}else{if(u.indexOf("Trident/6")!=-1){s=10}}}}return s},q=function(){if(l&&r&&m){return}l=o(p)||"An unknown browser";r=k(navigator.userAgent)||k(navigator.appVersion)||"an unknown version";m=o(n)||"an unknown OS"};return{browser:function(){return q()||l},version:function(){return q()||r},os:function(){return q()||m},is_this_the_worlds_most_annoying_browser:function(){return(a.all&&!b.opera&&!b.XMLHttpRequest)},ie:function(){return(navigator.appName=="Microsoft Internet Explorer")}}})());j.extendObject("feedback",(function(){var k=false;return{render:function(y){if(g.feedback&&g.feedback.isEnabled&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&g.sslEnabled))){var t=g.feedback.config,n={feedbackLaunchType:"",feedbackExternalLinkId:"",feedbackButtonAlignment:"",feedbackButtonTextColor:"",feedbackButtonBorderColor:"",feedbackButtonBackgroundColor:"",snapshotEnabled:"",defaultFeedbackCategory:"",showAllFeedbackCategories:true,showFeedbackForm:false,data:{},isDemoMode:false},x={feedbackButtonAlignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+webengage.GLOBALS.baseStaticUrl()+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:webengage.GLOBALS.feedbackImageBaseUrl()+t.imgPath,sizeCss:{height:t.imgHeight+"px",width:t.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(webengage.BrowserDetect.ie()?"349px":"345px")},B={getButtonCssBasedOnConfig:function(F,G){var E={};E=j.copy(E,x.sizeCss);if(F=="left"){E=j.copy(E,x.leftCss)}else{E=j.copy(E,x.rightCss)}if(G){E=j.copy(E,x.tabCssWithIcon)}return E},getContainerCssBasedOnConfig:function(F){var E={};E=j.copy(E,x.containerCss);if(F=="right"){E=j.copy(E,x.containerRightCss)}else{E=j.copy(E,x.containerLeftCss)}return E},getCloseCssBasedOnConfig:function(F){var E={};if(F=="right"){E=j.copy(E,x.rightCloseCss)}else{E=j.copy(E,x.leftCloseCss)}return E},getButtonCssBasedOnBackgroundColor:function(F){var E={};if(j.isColorTooLight(F)){E=j.copy(E,{backgroundImage:("url('"+x.feedbackBgImageForLightBackground+"')")})}else{E=j.copy(E,{backgroundImage:("url('"+x.feedbackBgImageForDarkBackground+"')")})}return E},getCustomTextImageCss:function(){var E={};E=j.copy(E,{backgroundImage:("url('"+x.feedbackTextImage+"')")});return E}},w=(typeof(t.closeImg)=="undefined"||!t.closeImg)?(webengage.GLOBALS.baseStaticUrl()+"/images/icons/feedback-widget-close.png"):(webengage.GLOBALS.baseDynamicHost()+t.closeImg);n=j.copy(n,(y?y:{}),true);var v=j.getInitParamValue(n,"feedbackButtonAlignment",t.alignment,x.feedbackButtonAlignment);var p=j.getInitParamValueAsArray(n,"feedbackLaunchType",t.launchType,x.launchTypes),o=j.getInitParamValueAsArray(n,"feedbackExternalLinkId",t.externalLinkId),r=j.getInitParamValue(n,"feedbackButtonBackgroundColor",t.backgroundColor),D=j.getInitParamValue(n,"feedbackButtonBorderColor",t.borderColor),l=j.getInitParamValue(n,"feedbackButtonTextColor",t.textColor),z=j.getInitParamValue(n,"snapshotEnabled",((typeof t.snapshotEnabled=="undefined")?true:t.snapshotEnabled)),C=j.inArray(p,x.launchTypes[0]),u=t.imgWidth,q=t.imgHeight,A=parseInt(u),m=t.imgPath,s=t.showWeIcon;r=r.indexOf("#")===0?r:("#"+r);D=D.indexOf("#")===0?D:("#"+D);(function(){webengage.feedback.clear();var I=a.createElement("div");webengage.GLOBALS._widgetContainer.appendChild(I);I.setAttribute("id",webengage.GLOBALS.widgetContainerId()+"-content");var H=I.style;I=j.applyCss(I,x.containerCss);I=j.applyCss(I,B.getContainerCssBasedOnConfig(v));I.style.width=(parseInt(u)+3+3)+"px";var M=(parseInt(q)+7+7+(s?(3+26):0))+"px";H.borderColor=D;H.top=(("innerHeight" in b?b.innerHeight:a.documentElement.clientHeight)-parseInt(q))/2+"px";H.zIndex=(j.getMaxZIndex()+1);var E=a.createElement("div");I.appendChild(E);E.id=webengage.GLOBALS.widgetContainerId()+"-close-div";E=j.applyCss(E,x.closeCommonCss);E=j.applyCss(E,B.getCloseCssBasedOnConfig(v));E.style.backgroundImage="url('"+w+"')";if(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()){E.style.backgroundImage="";E.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+w+"')"}var L=a.createElement("div");I.appendChild(L);L.setAttribute("id",webengage.GLOBALS.widgetContainerId()+"-content-expand-collapse");var F=L.style;L=j.applyCss(L,x.commonCss);L=j.applyCss(L,B.getButtonCssBasedOnConfig(v,s));L=j.applyCss(L,B.getButtonCssBasedOnBackgroundColor(r));if(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()){F.backgroundImage="";var J=(j.isColorTooLight(r)?x.feedbackBgImageForLightBackground:x.feedbackBgImageForDarkBackground);F.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+J+"')"}F.backgroundColor=r;F.zIndex=j.getMaxZIndex()+1;if(!C){I.style.display="none"}var N=a.createElement("div");L.appendChild(N);N.style.width=parseInt(u)+"px";N.style.height=parseInt(q)+"px";N.style.margin="0px";N.style.padding="0px";N=j.applyCss(N,B.getCustomTextImageCss());if(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()){N.style.backgroundImage="";F.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+x.feedbackTextImage+"')"}E.style.zIndex=j.getMaxZIndex()+1;var K=function(){try{I.removeChild(a.getElementById(webengage.GLOBALS.widgetContainerId()+"-loading"))}catch(O){}try{I.removeChild(a.getElementById(webengage.GLOBALS.widgetContainerId()+"-content"))}catch(O){}try{a.getElementById(webengage.GLOBALS.widgetContainerId()+"-content-expand-collapse").isCurrentlyOpen=false}catch(O){}this.style.display="none";I.style.width=(parseInt(u)+3+3)+"px";if(!C){L.style.display="none"}};E.onclick=K;L.onclick=function(){if(!k){I.style.display="block";I.style.width="300px";var O=a.createElement("div");O.id=webengage.GLOBALS.widgetContainerId()+"-loading";O=j.applyCss(O,x.loadingCss);O.innerHTML="Loading<br/>please wait ...";I.appendChild(O);j.alignCenter(O,I,v);E.style.display="block";var P=a.createElement("script");P.type="text/javascript";webengage.feedbackLoadStartTime=new Date();if(j.isJqueryPresent()){P.src=webengage.GLOBALS.widgetDomain()+webengage.GLOBALS.loadFeedbackWidgetWoJQueryUrl()}else{P.src=webengage.GLOBALS.widgetDomain()+webengage.GLOBALS.loadFeedbackWidgetJQueryUrl()}webengage.GLOBALS._widgetContainer.appendChild(P);k=true}};if(o&&o.length>0){var G=function(){for(var P=0;P<o.length;P++){var Q=o[P];var O=a.getElementById(Q);if(O){O.onclick=function(R){var S=R||b.event;S.cancelBubble=true;if(S.stopPropagation){S.stopPropagation()}if(S.preventDefault){S.preventDefault()}else{S.returnValue=false}L.onclick();return false}}}}()}a.$FeedbackWidgetInitializer={containerId:webengage.GLOBALS.widgetContainerId(),licenseCode:webengage.initParams.licenseCode,appHost:webengage.GLOBALS.baseWebEngageUrl(),minWidth:(parseInt(u)+3+3)+"px",maxWidth:x.maxWidth,minHeight:M,maxHeight:x.maxHeight,showFeedbackButton:C,widgetLanguage:webengage.initParams.language,buttonAlignment:v,borderColor:D.substring(1),snapshotEnabled:z,demo:webengage.initParams.isDemoMode||n.isDemoMode,defaultFeedbackCategory:n.defaultFeedbackCategory,showAllFeedbackCategories:n.showAllFeedbackCategories,clientData:n.data?n.data:{},we_util:j};if(n.showFeedbackForm==true){L.onclick()}})()}else{if(g.feedback&&g.feedback.isEnabled&&a.location.protocol=="https:"&&!g.sslEnabled){}}},clear:function(){try{webengage.GLOBALS._widgetContainer.removeChild(a.getElementById(webengage.GLOBALS.widgetContainerId()+"-content"))}catch(l){}a.$FeedbackWidgetInitializer=null;k=false},isFeedbackWidgetOpen:function(){return k},setFeedbackWidgetOpen:function(l){k=l||false}}})());j.extendObject("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$"});j.extendObject("ruleExecutor.util",(function(k){return{isMatches:function(n,l){if(n){if(n instanceof Array){for(var o=0;o<n.length;o++){if(webengage.ruleExecutor.util.isMatches(n[o],l)){return true}}}else{if(l instanceof Array){for(var m=0;m<l.length;m++){if(n.match(new RegExp(l[m],"gi"))){return true}}}else{if(n.match(new RegExp(l,"gi"))){return true}}}}return false},getCurrentTimeInSec:function(o){var n=new Date(o);var l=n.getHours();var p=n.getMinutes();var m=n.getSeconds();return(l*60*60+p*60+m)},getClientTime:function(){var l=j.getCurrentTime();return webengage.ruleExecutor.util.getCurrentTimeInSec(l)},getPublisherTime:function(){var l=j.getCurrentTime(webengage.GLOBALS.publisherTimeZoneOffset);return webengage.ruleExecutor.util.getCurrentTimeInSec(l)},isContains:function(l,n,m){if(typeof(l)!="function"){return false}var s=false;var o=m||"contains_any";var r=l();if(typeof(r)!=c&&r){var q=[];if(r instanceof Array){for(var p in r){q[r[p].toLowerCase()]=true}}else{q[r]=true}if(typeof(n)!=c&&n){if(n instanceof Array){if(o=="contains_all"){for(var p in n){if(q[n[p].toLowerCase()]==true){s=true;continue}s=false;break}}else{for(var p in n){if(q[n[p].toLowerCase()]==true){s=true;break}}}}else{s=q[n.toLowerCase()]==true}}}return s},getReferrers:function(){var m=[];var l=j.getSessionCookie();if(l&&l.referrer){m[m.length]=l.referrer.toLowerCase()}if(a.referrer&&l.referrer!=a.referrer){m[m.length]=a.referrer.toLowerCase()}return m},getCountry:function(){return j.getSessionCookie().country||""},getRegion:function(){return j.getSessionCookie().region||""},getCity:function(){return j.getSessionCookie().city||""},getSearchEngineMatchResult:function(){var n=webengage.ruleExecutor.util.getReferrers();var l={isSER:false};for(var m in k.SEARCH_ENGINE_REGEXP){if(webengage.ruleExecutor.util.isMatches(n,k.SEARCH_ENGINE_REGEXP[m].pattern)!=false){l.isSER=true;l.url=n;l.queryParam=k.SEARCH_ENGINE_REGEXP[m].queryParam;break}}return l},isSearchEngineReference:function(){return(webengage.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return webengage.ruleExecutor.util.isMatches(webengage.ruleExecutor.util.getReferrers(),k.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var l=j.getSessionCookie();return(l&&l.isFirstTime=="true")?true:false},getSearchTerms:function(){var n=[];var l=webengage.ruleExecutor.util.getSearchEngineMatchResult();if(l.isSER){var m=decodeURI(webengage.ruleExecutor.util.getParamValue(l.url,l.queryParam));n=webengage.ruleExecutor.util.jsTokenizer(m)}return n},jsTokenizer:function(o,q){var p=[];if(typeof(o)!="undefined"&&o){var n=j.escapeForRegExp("-=[]{}()*+?.,^$|#s\r\n\t&/~'\"_:;%|@!`<>\\");if(typeof(q)!=c&&q){if(q instanceof Array){n=j.escapeForRegExp(q.join(""))}else{n=j.escapeForRegExp(q)}}o=o.replace(new RegExp("["+n+"]","g")," ");var l=o.split(/\s/g);for(var m=0;m<l.length;m++){if(l[m]!=""){p[p.length]=l[m]}}}return p},getParamValue:function(m,o){var p="";var n=new RegExp("[\\?&]"+o+"=([^&#]*)");var l=n.exec(m);if(l!=null){p=l[1]}return p},getBrowser:function(){return webengage.BrowserDetect.browser()},getBrowserVersion:function(){return webengage.BrowserDetect.version()},getOS:function(){return webengage.BrowserDetect.os()},escapeForRegExp:function(l){return j.escapeForRegExp(l)}}})(webengage.ruleExecutor.constants));j.extendObject("ruleExecutor",(function(m,l){var k={referer:m.getReferrers,url:j.getClientPageUrl(),cookie:j.getCookie,country:m.getCountry,region:m.getRegion,city:m.getCity,time:"",isFirstTime:m.isFirstTime,isSER:m.isSearchEngineReference,isSMR:m.isSocialMediaReference,searchTerms:m.getSearchTerms,os:m.getOS,browser:m.getBrowser,endUserTime:m.getClientTime,publisherTime:m.getPublisherTime,browser_version:m.getBrowserVersion};return{execute:function(o,n){n=j.copy(k,(n?n:{}),true);o=(typeof o!="undefined")?o:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+o+");")(j,m,l,n))}}})(webengage.ruleExecutor.util,webengage.ruleExecutor.constants));j.extendObject("survey",(function(){var k=false;var l=function(s,v){var p=g.survey.config;var A=j.getInitParamValue(v,"surveyCss");var D=(typeof(p.theme)=="undefined"?"":p.theme);var w="320px",q="1px",B="320px",x="450px";var t=a.createElement("div");var r=j.getInitParamValue(v,"alignment",p.alignment,["left","right"]);webengage.GLOBALS._widgetContainer.appendChild(t);t.setAttribute("id",webengage.GLOBALS.widgetContainerId()+"-survey-content");var o=t.style;o.height=q;o.width=w;o.zIndex=(j.getMaxZIndex()+1);o.position=(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed");o.backgroundColor="transparent";if("right"==r){o.right="0px"}else{o.left="10px"}o.bottom="20px";o.display="block";var C;var n;if(p.theme=="dark"||p.theme=="light"){C=webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/mini-survey-close-"+p.theme+".png";n=webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/mini-survey-expand-collapse-"+p.theme+".png"}else{C=webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/mini-survey-close-light.png";n=webengage.GLOBALS.baseStaticUrl()+"/images/webengage/icons/mini-survey-expand-collapse-light.png"}var u=a.createElement("div");t.appendChild(u);u.id=webengage.GLOBALS.widgetContainerId()+"-survey-close-div";var y=u.style;y.zIndex=j.getMaxZIndex()+1;y.position="absolute";y.right="30px";y.bottom="5px";y.height="16px";y.display="none";y.width="16px";y.cursor="pointer";y.backgroundImage="url('"+C+"')";y.backgroundRepeat="no-repeat";y.backgroundPosition="0 0";y.backgroundColor="transparent";if(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()){y.backgroundImage="";y.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+C+"')"}u.innerHTML="&nbsp;";var z=a.createElement("div");t.appendChild(z);z.id=webengage.GLOBALS.widgetContainerId()+"-survey-minimize-div";var m=z.style;m.zIndex=j.getMaxZIndex()+1;m.position="absolute";m.right="50px";m.bottom="5px";m.height="16px";m.width="16px";m.display="none";m.cursor="pointer";m.backgroundImage="url('"+n+"')";m.backgroundRepeat="no-repeat";m.backgroundPosition="0 0";m.backgroundColor="transparent";if(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()){m.backgroundImage="";m.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+n+"')"}z.innerHTML="&nbsp;";a.$SurveyWidgetInitializer={containerId:webengage.GLOBALS.widgetContainerId(),licenseCode:webengage.initParams.licenseCode,surveyEncId:s,appHost:webengage.GLOBALS.surveyAppHost(),minWidth:w,maxWidth:B,minHeight:q,maxHeight:x,widgetLanguage:webengage.initParams.language,theme:D,cssUrl:A,clientData:v.data?v.data:{},we_util:j,demo:webengage.initParams.isDemoMode||v.isDemoMode};j.loadScript.apply(webengage.GLOBALS._widgetContainer,[j.replaceUrlTokens(webengage.GLOBALS.loadSurveyWidgetUrl(),webengage.initParams.language)]);k=true};return{render:function(n){var m={surveyId:"",alignment:"",skipRuleExecution:false,showAllClosedAndTakenSurveys:false,delay:-1,ruleData:{},data:{},isDemoMode:false};m=j.copy(m,(n?n:{}),true);var p=webengage.initParams.isDemoMode||m.isDemoMode;webengage.survey.clear();if(g.survey&&g.survey.isEnabled&&!j.isEmptyObject(g.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&g.sslEnabled))){var o=g.survey.ruleMap;var r=0;var q=setInterval(function(){r+=10;var z=j.getSessionCookie();if(m.skipRuleExecution||(z&&z.country)||r>5000){if(!z){z=j.setSessionCookie()}clearInterval(q);var x=j.getWebengageCookie();var y=m.surveyId;if(y&&o[y]){var s={};s[y]=o[y];o=s}var w=[];var u={};var t=0;for(var B in o){var v=B,A=o[B].ruleCode,C=o[B].timespent||0;if(!p){if(!m.showAllClosedAndTakenSurveys&&((typeof(z.closedSurveys)!="undefined"&&z.closedSurveys.indexOf("##"+v)>=0)||(typeof(x.takenSurveys)!="undefined"&&x.takenSurveys.indexOf("##"+v)>=0))){continue}if(!m.skipRuleExecution&&typeof(A)!="undefined"&&A){if(!webengage.ruleExecutor.execute(A,m.ruleData)){continue}}if(t==0){t=C}t=t>C?C:t}w[w.length]=v;u[v]=C}setTimeout(function(){if(w.length>0){if(!m.showAllClosedAndTakenSurveys&&!p){var D=[];for(var F=0;F<w.length;F++){if(F>0){D[D.length]="&"}D[D.length]="surveyIds="+w[F]}j.loadScript.apply(webengage.GLOBALS._widgetContainer,[((j.replaceUrlTokens(webengage.GLOBALS.findAllTakenSurveysUrl(),webengage.initParams.language))+"&"+D.join("")),function(I,K,J){var N=[];var L={};if(typeof(we_notToExecuteSurveyIdsMap)!="undefined"){if(typeof(we_notToExecuteSurveyIdsMap.takenSurveyIds)!="undefined"&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){if(typeof(x.takenSurveys)=="undefined"||!x.takenSurveys){x.takenSurveys=""}for(var G=0;G<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;G++){x.takenSurveys+="##"+we_notToExecuteSurveyIdsMap.takenSurveyIds[G];L[we_notToExecuteSurveyIdsMap.takenSurveyIds[G]]=true}j.setWebengageCookie(x)}if(typeof(we_notToExecuteSurveyIdsMap.inactiveSurveyIds)!="undefined"&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var M=0;M<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;M++){L[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[M]]=true}}}for(var O=0;O<K.length;O++){if(!L[K[O]]){N[N.length]=K[O]}}if(N.length>0){var H=N[0];C=I[H]||0;if(parseInt(m.delay,10)>=0){C=parseInt(m.delay,10)}if(typeof(H)!="undefined"&&H){setTimeout(function(){l(H,m)},((C-(J+t))<0?0:(C-(J+t))))}}},[u,w,r]])}else{var E=w[0];C=u[E]||0;if(parseInt(m.delay,10)>=0){C=parseInt(m.delay,10)}if(typeof(E)!="undefined"&&E){setTimeout(function(){l(E,m)},((C-(r+t))<0?0:(C-(r+t))))}}}},t)}},10)}else{if(g.survey&&g.survey.isEnabled&&a.location.protocol=="https:"&&!g.sslEnabled){}}},clear:function(){try{webengage.GLOBALS._widgetContainer.removeChild(a.getElementById(webengage.GLOBALS.widgetContainerId()+"-survey-content"))}catch(m){}a.$SurveyWidgetInitializer=null;k=false},close:function(o,n){webengage.survey.clear();if(o&&!n){try{var m=j.getSessionCookie();if(typeof(m.closedSurveys)=="undefined"||!m.closedSurveys){m.closedSurveys=""}if(m.closedSurveys.indexOf("##"+o)<0){m.closedSurveys+="##"+o}j.updateSessionCookie(m)}catch(p){}}}}})());j.extendObject("notification",(function(){var k=function(r,s){var n=a.createElement("iframe");n.name=webengage.GLOBALS.widgetContainerId()+"-notification-frame";n.id=webengage.GLOBALS.widgetContainerId()+"-notification-frame";n.frameBorder="0";n.marginHeight="0";n.marginWidth="0";n.allowTransparency="true";webengage.GLOBALS._widgetContainer.appendChild(n);var o=n.style;o.zIndex=(j.getMaxZIndex()+1);o.position=(webengage.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed");o.backgroundColor="transparent";o.bottom="0px";o.border="none";o.overflow="hidden";o.visibility="hidden";var p=j.getSessionCookie();var q=null;if(n.contentDocument){q=n.contentDocument}else{if(n.contentWindow){q=n.contentWindow.document}else{if(n.document){q=n.document}}}q.open();q.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"><link rel="stylesheet" type="text/css" href="//static-webengage.s3-ap-southeast-1.amazonaws.com/css/webengage/notification/notification-base.css?v=103.0" media="screen"/></head><body></body></html>');q.close();q.$NotificationWidgetInitializer={containerId:webengage.GLOBALS.widgetContainerId(),licenseCode:webengage.initParams.licenseCode,appHost:webengage.GLOBALS.baseWebEngageUrl(),notificationEncId:r,widgetLanguage:webengage.initParams.language,theme:s.theme?s.theme:"",browser:webengage.BrowserDetect.browser(),browserVersion:webengage.BrowserDetect.version(),os:webengage.BrowserDetect.os(),country:p.country||"",city:p.city||"",region:p.region||"",pageUrl:b.location.href,pageTitle:a.title,referrer:a.referrer,clientData:s.data?s.data:{},tokens:s.tokens?s.tokens:{},we_util:j,demo:webengage.initParams.isDemoMode||s.isDemoMode};var m=q.createElement("script");m.setAttribute("type","text/javascript");m.setAttribute("src",webengage.GLOBALS.widgetDomain()+webengage.GLOBALS.getNotificationWidgetScriptUrl());q.body.appendChild(m)};var l=null;return{setTimestamp:function(m){l=m},render:function(q){var r={notificationId:"",skipRuleExecution:false,delay:-1,data:{},ruleData:{},isDemoMode:false};r=j.copy(r,(q?q:{}),true);var n=webengage.initParams.isDemoMode||r.isDemoMode;webengage.notification.clear();if(g.notification&&g.notification.isEnabled&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&g.sslEnabled))){var m=g.notification.ruleMap;var p=0;var o=setInterval(function(){p+=10;var A=j.getSessionCookie();if(r.skipRuleExecution||(A&&A.country)||p>5000){if(!A){A=j.setSessionCookie()}clearInterval(o);var D=j.getWebengageCookie();var s=r.notificationId;if(s&&m[s]){var K={};K[s]=m[s];m=K}var G=[];var J={};for(var M in m){var E=M,C=m[M].ruleCode,L=m[M].timespent,x=m[M].skipTargetPage,B=m[M].actionLinks,I=m[M].maxTimesPerUser;if(!n){if(((typeof(A.closedNIds)!="undefined"&&A.closedNIds.indexOf("##"+E)>=0)||(typeof(D.takenNIds)!="undefined"&&D.takenNIds.indexOf("##"+E)>=0))){continue}if(x&&B instanceof Array&&B.length>0){for(var F in B){var z=a.createElement("a");z.href=B[F];B[F]="^"+j.escapeForRegExp(z.href)+"$";z=null}if(webengage.ruleExecutor.util.isMatches(j.getClientPageUrl(),B)){continue}}if(typeof I!="undefined"&&I<=webengage.notification.getTotalTimesShown(E)){continue}if(!r.skipRuleExecution&&typeof(C)!="undefined"&&C){if(!webengage.ruleExecutor.execute(C,r.ruleData)){continue}}}G[G.length]=E;J[E]=L}var H=function(N){if(typeof N!=="undefined"&&N){L=J[N]||0;if(parseInt(r.delay,10)>=0){L=parseInt(r.delay,10)}setTimeout(function(){k(N,r)},((L-p)<0?0:(L-p)))}};var y=function(){for(F in G){var P=G[F];var O=m[P],Q=O.startTimestamp,N=O.endTimestamp;if((typeof N!=="undefined")&&(N<l)){continue}if((typeof Q!=="undefined")&&(l<Q)){continue}H(P);break}};if(G.length>0){var w=G[0];if(typeof w!=="undefined"&&w){if(!n){var v=m[w],t=v.startTimestamp,u=v.endTimestamp;if((typeof t!=="undefined"&&t)||(typeof u!=="undefined"&&u)){j.loadScript.apply(webengage.GLOBALS._widgetContainer,[webengage.GLOBALS.getServerTimestampUrl()+"&callback=webengage.notification.setTimestamp",y])}else{H(w)}}else{H(w)}}}}},10)}else{if(g.notification&&g.notification.isEnabled&&a.location.protocol=="https:"&&!g.sslEnabled){}}},clear:function(){try{webengage.GLOBALS._widgetContainer.removeChild(a.getElementById(webengage.GLOBALS.widgetContainerId()+"-notification-frame"))}catch(m){}},getTotalTimesShown:function(s,q){var m=0;q=(typeof(q)=="boolean"?q:false);if(s&&!q){try{var p=j.getWebengageCookie();if(p&&p.seenNIds){var o=new RegExp("##"+s+"=(\\d+)");var n=p.seenNIds.match(o);if(n instanceof Array&&n.length>1){m=n[1]}}}catch(r){}}return m},view:function(r,p){var m=1;p=(typeof(p)=="boolean"?p:false);if(r&&!p){try{var o=j.getWebengageCookie();o.seenNIds=o.seenNIds&&typeof(o.seenNIds)!="undefined"?o.seenNIds:"";if(o.seenNIds.indexOf("##"+r)<0){o.seenNIds+="##"+r+"="+m}else{var n=new RegExp("##"+r+"=(\\d+)","g");o.seenNIds=o.seenNIds.replace(n,function(s,t){m=(+t+1);return"##"+r+"="+m})}j.setWebengageCookie(o)}catch(q){}}return m},close:function(p,n){webengage.notification.clear();n=(typeof(n)=="boolean"?n:false);if(p&&!n){try{var m=j.getSessionCookie();if(typeof(m.closedNIds)=="undefined"||!m.closedNIds){m.closedNIds=""}if(m.closedNIds.indexOf("##"+p)<0){m.closedNIds+="##"+p}j.updateSessionCookie(m)}catch(o){}}},click:function(p,n){n=(typeof(n)=="boolean"?n:false);if(p&&!n){try{var m=j.getWebengageCookie();m.takenNIds=m.takenNIds&&typeof(m.takenNIds)!="undefined"?m.takenNIds:"";if(m.takenNIds.indexOf("##"+p)<0){m.takenNIds+="##"+p}j.setWebengageCookie(m)}catch(o){}}},resizeNotificationFrame:function(o){var n=a.getElementById(webengage.GLOBALS.widgetContainerId()+"-notification-frame");n.height=o.height||n.contentWindow.document.body.scrollHeight;n.width=o.width||n.contentWindow.document.body.scrollWidth;var m=n.style;m.visibility="visible";m.height=parseInt(o.height||n.contentWindow.document.body.scrollHeight)+"px";m.width=parseInt(o.width||n.contentWindow.document.body.scrollWidth)+"px";if("right"==o.launchType){m.right="0px"}else{m.left="0px"}}}})());j.extendObject("",{init:function(k){j.copy(webengage.initParams,(k?k:{}),true);h=false;if(webengage.initParams.licenseCode){b.setTimeout(function(){var l=function(){var o=a.createElement("webengagedata");a.body.insertBefore(o,null);j.copy(webengage.GLOBALS,{_weDataContainer:o},true);try{var q=a.createElement("style");var r=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}#webklipper-publisher-widget-container-survey-content, #webklipper-publisher-widget-container-survey-content #webklipper-publisher-widget-container-survey-frame {max-height: 450px; max-width: 100%}");q.type="text/css";if(q.styleSheet){q.styleSheet.cssText=r.nodeValue}else{q.appendChild(r)}webengage.GLOBALS._weDataContainer.appendChild(q)}catch(p){}var m=a.createElement("div");m.setAttribute("id",webengage.GLOBALS.widgetContainerId());webengage.GLOBALS._weDataContainer.appendChild(m);j.copy(webengage.GLOBALS,{_widgetContainer:m},true);if(!j.getWebengageCookie()){j.setWebengageCookie()}var n="//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/"+webengage.initParams.licenseCode+"/v3.js";if(webengage.initParams.isDemoMode){n+="?r="+Math.random()}j.loadScript.apply(webengage.GLOBALS._widgetContainer,[n,function(){if(typeof webengage_fs_configurationMap!="undefined"&&webengage_fs_configurationMap.config){if(typeof(webengage_fs_configurationMap.domain)!="undefined"&&webengage_fs_configurationMap.domain&&!webengage.initParams.isDemoMode){var t=webengage_fs_configurationMap.domain,v=j.getClientPageHost(),u,s;if(t.match(/^www\./)){t=t.substring(4,t.length)}if(t.match(/\:[\d]*$/)){u=t.substring(t.indexOf(":")+1,t.length);t=t.substring(0,t.indexOf(":"))}if(v.match(/\:[\d]*$/)){s=v.substring(v.indexOf(":")+1,v.length);v=v.substring(0,v.indexOf(":"))}if(!(v.match(new RegExp(j.escapeForRegExp(t)+"$","gi"))&&(!u||u==s))){webengage.logger.error("The WebEngage widget on this page is incorrectly configured. It is meant for use only on <b>"+t+"</b> and its subdomains.");return}}webengage.GLOBALS._publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;if(!webengage.initParams.language&&typeof webengage_fs_configurationMap.config.language!="undefined"){webengage.initParams.language=webengage_fs_configurationMap.config.language}j.copy(g,(function(y){return{configurationMap:y?y:{}}})(webengage_fs_configurationMap));if((typeof(webengage_fs_configurationMap.config.enableSurvey)=="boolean"&&webengage_fs_configurationMap.config.enableSurvey&&typeof(webengage_fs_configurationMap.surveyRuleList)!="undefined"&&webengage_fs_configurationMap.surveyRuleList instanceof Array&&webengage_fs_configurationMap.surveyRuleList.length>0)||(typeof(webengage_fs_configurationMap.config.enableNotification)=="boolean"&&webengage_fs_configurationMap.config.enableNotification&&typeof(webengage_fs_configurationMap.notificationRuleList)!="undefined"&&webengage_fs_configurationMap.notificationRuleList instanceof Array&&webengage_fs_configurationMap.notificationRuleList.length>0)){var w=j.getSessionCookie();if(!w||!w.country||w.country=="undefined"){if((a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){var x="http://geo.services.webklipper.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.weLoadGeo");if(a.location.protocol=="https:"){x=webengage.GLOBALS.baseWebEngageUrl()+"/json/geoip.html?cb="+encodeURI("webengage.GEO.weLoadGeo")}j.loadScript.apply(webengage.GLOBALS._widgetContainer,[x,function(){j.setSessionCookie()}])}}}h=true}},null,function(){}])};if(webengage.BrowserDetect.ie()){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){l()}else{if(b.addEventListener){b.addEventListener("load",l,false)}else{if(b.attachEvent){b.attachEvent("onload",l)}}}}else{l()}},(webengage.initParams.delay&&parseInt(webengage.initParams.delay)>0?parseInt(webengage.initParams.delay):0))}return webengage},onReady:function(k){var l=setInterval(function(){if(h){clearInterval(l);(function(m){j.extendObject("widgetConfiguration",{});if(m&&m.config){j.copy(g,{feedback:{isEnabled:(typeof m.config.enableFeedback=="boolean"&&m.config.enableFeedback),config:m.config.feedbackConfig?m.config.feedbackConfig:{}}},true);j.copy(g,{survey:{isEnabled:(typeof m.config.enableSurvey=="boolean"&&m.config.enableSurvey),config:m.config.surveyConfig?m.config.surveyConfig:{},ruleMap:(function(){var p={};if(m.surveyRuleList){var n=m.surveyRuleList;for(var o=0;o<n.length;o++){p[n[o].surveyEncId]={ruleCode:n[o].ruleCode,timespent:parseInt(n[o].timeSpent)!="NaN"?parseInt(n[o].timeSpent):0}}}return p})()}},true);j.copy(g,{notification:{isEnabled:(typeof m.config.enableNotification=="boolean"&&m.config.enableNotification),ruleMap:(function(){var o={};if(m.notificationRuleList){var p=m.notificationRuleList;for(var n=0;n<p.length;n++){o[p[n].notificationEncId]={ruleCode:p[n].ruleCode,timespent:parseInt(p[n].timeSpent)!="NaN"?parseInt(p[n].timeSpent):0,actionLinks:p[n].actionLinks||[],skipTargetPage:typeof(p[n].skipTargetPage)=="boolean"?p[n].skipTargetPage:false,maxTimesPerUser:p[n].maxTimesPerUser,startTimestamp:p[n].startTimestamp,endTimestamp:p[n].endTimestamp}}}return o})()}},true);j.copy(g,{sslEnabled:(m.sslEnabled?m.sslEnabled:false)},true)}})(g.configurationMap);if(typeof k=="function"){k.apply(this)}}},1)},render:function(k){setTimeout(function(){webengage.feedback.render()},10);setTimeout(function(){webengage.survey.render()},10);setTimeout(function(){webengage.notification.render()},10)}});if(typeof b.webengageWidgetInit!="function"){var f=a.getElementsByTagName("webengage")[0];if(f&&f.attributes){var e=f.attributes;if(e.license){var d={licenseCode:e.license.value,language:(e.language?e.language.value:"")};b.webengageWidgetInit=function(){webengage.init(d).onReady(function(){var k={};if(e.feedbackButtonAlignment){j.copy(k,{feedbackButtonAlignment:e.feedbackButtonAlignment.value})}webengage.feedback.render(k);webengage.survey.render();webengage.notification.render()})}}}}if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b.webengageWidgetInit()}else{if(b.addEventListener){b.addEventListener("load",b.webengageWidgetInit,false)}else{if(b.attachEvent){b.attachEvent("onload",b.webengageWidgetInit)}}}}else{b.webengageWidgetInit()}})()})(window,document);